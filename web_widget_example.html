<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vital Mechanical - Chat Widget Example</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .demo-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            max-width: 1200px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }

        /* Chat Widget Styles */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-button {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            background: #2563eb;
            color: white;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
        }

        .chat-button:hover {
            background: #1d4ed8;
            transform: scale(1.1);
        }

        .chat-window {
            display: none;
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 380px;
            height: 600px;
            max-height: 80vh;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            flex-direction: column;
            overflow: hidden;
        }

        .chat-window.open {
            display: flex;
        }

        .chat-header {
            background: #2563eb;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            margin: 0;
            font-size: 18px;
        }

        .chat-header p {
            margin: 5px 0 0 0;
            font-size: 13px;
            opacity: 0.9;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f9fafb;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.5;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border-bottom-left-radius: 4px;
        }

        .message.user .message-content {
            background: #2563eb;
            color: white;
            border-bottom-right-radius: 4px;
        }

        .chat-input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e5e7eb;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
        }

        .chat-input:focus {
            outline: none;
            border-color: #2563eb;
        }

        .send-button {
            padding: 12px 20px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }

        .send-button:hover {
            background: #1d4ed8;
        }

        .send-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: none;
            padding: 12px 16px;
            background: white;
            border-radius: 12px;
            width: fit-content;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #9ca3af;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .quick-questions {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #e5e7eb;
        }

        .quick-questions h4 {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .quick-question-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            color: #374151;
            text-align: left;
            transition: all 0.2s;
        }

        .quick-question-btn:hover {
            background: #e5e7eb;
            border-color: #2563eb;
        }

        @media (max-width: 480px) {
            .chat-window {
                width: calc(100vw - 40px);
                height: calc(100vh - 140px);
                right: 20px;
                bottom: 90px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>Vital Mechanical Service</h1>
        <p class="subtitle">Chat Widget Integration Example</p>

        <p style="margin-bottom: 20px; color: #666;">
            This is a demonstration of how the chatbot could be integrated into the Vital Mechanical website.
            Click the chat button in the bottom-right corner to start a conversation.
        </p>

        <div style="background: #f9fafb; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
            <h3 style="margin-bottom: 10px;">Features:</h3>
            <ul style="margin-left: 20px; color: #666; line-height: 1.8;">
                <li>Embodies Vital Mechanical's core values (Integrity, Positive Outlook, Teamacity, Do the Right Thing)</li>
                <li>Provides accurate information about services, mission, and "The Vital Way"</li>
                <li>Helps customers understand preventative maintenance, HVAC services, and more</li>
                <li>Professional, friendly, and solution-focused responses</li>
                <li>Quick question shortcuts for common inquiries</li>
            </ul>
        </div>

        <div style="background: #fef3c7; padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
            <strong>Note:</strong> This is a frontend demo only. To make it functional, you'll need to:
            <ol style="margin: 10px 0 0 20px; line-height: 1.8;">
                <li>Set up a backend API endpoint that calls the chatbot.py service</li>
                <li>Replace the simulated responses with actual API calls</li>
                <li>Add your Anthropic API key to the backend</li>
            </ol>
        </div>
    </div>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <button class="chat-button" onclick="toggleChat()">
            ðŸ’¬
        </button>

        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div>
                    <h3>Vital Mechanical</h3>
                    <p>We're here to help!</p>
                </div>
                <button class="close-chat" onclick="toggleChat()">Ã—</button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    <div class="message-content">
                        Hello! Welcome to Vital Mechanical Service. I'm here to answer your questions about our HVAC, plumbing, and mechanical services. How can I help you today?
                    </div>
                </div>
            </div>

            <div class="quick-questions">
                <h4>Quick Questions</h4>
                <button class="quick-question-btn" onclick="sendQuickQuestion('What services do you offer?')">
                    What services do you offer?
                </button>
                <button class="quick-question-btn" onclick="sendQuickQuestion('What is The Vital Way?')">
                    What is "The Vital Way"?
                </button>
                <button class="quick-question-btn" onclick="sendQuickQuestion('How do I schedule service?')">
                    How do I schedule service?
                </button>
            </div>

            <div class="chat-input-area">
                <div class="chat-input-container">
                    <input
                        type="text"
                        class="chat-input"
                        id="chatInput"
                        placeholder="Type your question..."
                        onkeypress="handleKeyPress(event)"
                    >
                    <button class="send-button" onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.classList.toggle('open');
            if (chatWindow.classList.contains('open')) {
                document.getElementById('chatInput').focus();
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendQuickQuestion(question) {
            const input = document.getElementById('chatInput');
            input.value = question;
            sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            input.value = '';

            // Show typing indicator
            showTyping();

            // Simulate bot response (in production, this would call your API)
            setTimeout(() => {
                hideTyping();
                const response = getSimulatedResponse(message);
                addMessage(response, 'bot');
            }, 1500);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.textContent = text;

            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);

            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTyping() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'message bot';
            typingDiv.innerHTML = `
                <div class="typing-indicator active">
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTyping() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function getSimulatedResponse(message) {
            // Simple keyword matching for demo purposes
            // In production, this would call your backend API which uses the chatbot
            const lowerMessage = message.toLowerCase();

            if (lowerMessage.includes('service') && lowerMessage.includes('what')) {
                return "We provide comprehensive mechanical services including HVAC maintenance and repair, refrigeration, plumbing, building controls, preventative maintenance programs, and tenant improvement services. We serve commercial buildings of all sizes across the Puget Sound area. What specific service are you interested in?";
            } else if (lowerMessage.includes('vital way')) {
                return "The Vital Way is our client-centric philosophy that guides everything we do. It means we keep your best interests in mind by saving you time, anticipating your needs, respecting your property, and communicating clearly. We're more than just a service providerâ€”we're a partner in keeping your building comfortable, safe, and efficient.";
            } else if (lowerMessage.includes('schedule') || lowerMessage.includes('contact')) {
                return "I'd be happy to help you schedule service! You can reach us through our website at vitalmechanical.com or give us a call. We serve the entire Puget Sound area and offer both scheduled maintenance and emergency services. What type of service do you need?";
            } else if (lowerMessage.includes('value') || lowerMessage.includes('core')) {
                return "Our core values are Integrity, Positive Outlook, Teamacity (team tenacity), and Do the Right Thing. These values guide every interaction and ensure we always put our customers' best interests first. Is there a specific aspect of how we work that you'd like to know more about?";
            } else if (lowerMessage.includes('hello') || lowerMessage.includes('hi')) {
                return "Hello! Thanks for reaching out to Vital Mechanical. How can I help you today?";
            } else {
                return "That's a great question! While I can provide general information about our services and company values, I'd recommend contacting our team directly at vitalmechanical.com for specific details. They'll be able to give you the most accurate and personalized assistance. Is there anything else I can help you with?";
            }
        }
    </script>
</body>
</html>
